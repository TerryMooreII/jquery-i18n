!function($,document,window,undefined){"use strict";var pluginName="i18n";var defaults={missingText:"<missing>",missingPlaceholder:"",displayErrorMessage:true,path:"i18n",baseFilename:"strings",language:"en_us"};function Plugin(element,options){this.element=element;this.options=$.extend({},defaults,options);this.$el=$(element);this.$el.data(name,this);this.init()}Plugin.prototype={init:function(){if(!window.i18n)window.i18n={};if(!window.i18n[this.options.language])loadLocaleFile(this.options.path+"/"+this.options.baseFilename+"_"+this.options.language+".js");parseDOM(this.$el,window.i18n[this.options.language],this.options)},getValue:function(key){var l=window.i18n[this.options.language];return l[key]}};var loadLocaleFile=function(filename){var script=document.createElement("script");script.setAttribute("type","text/javascript");script.setAttribute("src",filename);$("body").append(script)};var parseDOM=function(element,translation,options){element.find("[data-"+pluginName+"]").each(function(){var $this=$(this);var attr=$this.attr("data-"+pluginName);var tag=this;var text=translation[attr]||options.missingPlaceholder;if(tag.tagName.toUpperCase()==="INPUT"||tag.tagName.toUpperCase()==="TEXTAREA"){$this.attr("placeholder",text)}else if(tag.tagName.toUpperCase()==="IMG"){$this.attr("alt",text)}else if(tag.tagName.toUpperCase()==="A"){$this.attr("title",text)}else{$this.text(text===""?options.missingText:text)}})};$.fn[pluginName]=function(options){var args=arguments;if(options===undefined||typeof options==="object"){return this.each(function(){if(!$.data(this,"plugin_"+pluginName)){$.data(this,"plugin_"+pluginName,new Plugin(this,options))}})}else if(typeof options==="string"&&options[0]!=="_"&&options!=="init"){var returns;this.each(function(){var instance=$.data(this,"plugin_"+pluginName);if(instance instanceof Plugin&&typeof instance[options]==="function"){returns=instance[options].apply(instance,Array.prototype.slice.call(args,1))}if(options==="destroy"){$.data(this,"plugin_"+pluginName,null)}});return returns!==undefined?returns:this}}}(jQuery,document,window);